{"ast":null,"code":"export default {\n  props: {\n    height: {\n      type: Number,\n      required: true\n    }\n  },\n\n  data() {\n    return {\n      gameStarted: false,\n      score: 0,\n      objects: [],\n      canvas: null,\n      ctx: null,\n      width: 0,\n      height: 0,\n      basket: null,\n      keysPressed: {}\n    };\n  },\n\n  mounted() {\n    this.canvas = this.$refs.canvas;\n    this.ctx = this.canvas.getContext('2d');\n    this.width = this.canvas.width;\n    this.height = this.canvas.height;\n    this.basket = {\n      x: this.width / 2 - 25,\n      y: this.height - 50,\n      width: 50,\n      height: 50\n    };\n    window.addEventListener('keydown', this.handleKeyDown);\n    window.addEventListener('keyup', this.handleKeyUp);\n  },\n\n  methods: {\n    startGame() {\n      this.gameStarted = true;\n      this.score = 0;\n      this.objects = [];\n      this.addObjects();\n      this.draw();\n      this.canvas.style.display = 'block';\n    },\n\n    addObjects() {\n      const numObjects = 1;\n\n      for (let i = 0; i < numObjects; i++) {\n        const object = {\n          x: Math.floor(Math.random() * this.width),\n          y: 0,\n          width: 50,\n          height: 50,\n          color: '#' + Math.floor(Math.random() * 16777215).toString(16),\n          speed: Math.random() * 3 + 1,\n          // 랜덤한 속도 설정 (1에서 4 사이)\n          score: Math.floor(Math.random() * 10) - 5 // 랜덤한 점수 설정 (-5에서 4 사이)\n\n        };\n        this.objects.push(object);\n      }\n    },\n\n    draw() {\n      this.ctx.clearRect(0, 0, this.width, this.height); // 바스켓 그리기\n\n      this.ctx.fillStyle = '#000';\n      this.ctx.fillRect(this.basket.x, this.basket.y, this.basket.width, this.basket.height);\n\n      for (let i = 0; i < this.objects.length; i++) {\n        const object = this.objects[i];\n        this.ctx.fillStyle = object.color;\n        this.ctx.fillRect(object.x, object.y, object.width, object.height);\n        object.y += object.speed;\n\n        if (object.y + object.height > this.basket.y && object.x > this.basket.x && object.x < this.basket.x + this.basket.width) {\n          this.objects.splice(i, 1);\n          this.score += object.score;\n          this.addObjects();\n        } else if (object.y + object.height > this.height) {\n          this.objects.splice(i, 1);\n          this.addObjects();\n        }\n      }\n\n      this.moveBasket();\n      requestAnimationFrame(this.draw);\n    },\n\n    moveBasket() {\n      const speed = 10;\n\n      if (this.keysPressed.ArrowLeft && this.basket.x > 0) {\n        this.basket.x -= speed;\n      } else if (this.keysPressed.ArrowRight && this.basket.x + this.basket.width < this.width) {\n        this.basket.x += speed;\n      }\n    },\n\n    handleKeyDown(event) {\n      this.keysPressed[event.key] = true;\n    },\n\n    handleKeyUp(event) {\n      this.keysPressed[event.key] = false;\n    }\n\n  },\n\n  beforeUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n};","map":{"version":3,"mappings":"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","names":["props","height","type","Number","required","data","gameStarted","score","objects","canvas","ctx","width","basket","keysPressed","mounted","$refs","getContext","x","y","window","addEventListener","handleKeyDown","handleKeyUp","methods","startGame","addObjects","draw","style","display","numObjects","i","object","Math","floor","random","color","toString","speed","push","clearRect","fillStyle","fillRect","length","splice","moveBasket","requestAnimationFrame","ArrowLeft","ArrowRight","event","key","beforeUnmount","removeEventListener"],"sourceRoot":"","sources":["C:\\Users\\kk\\Desktop\\Web\\Web-Project\\vuejs\\game-master\\src\\components\\menus\\TreasurePage.vue"],"sourcesContent":["<template>\r\n     <div class=\"game\">\r\n       <button v-if=\"!gameStarted\" @click=\"startGame\">Start</button>\r\n       <div class=\"canvas-container\" v-if=\"gameStarted\">\r\n         <canvas ref=\"canvas\" width=\"400\" height=\"400\"></canvas>\r\n       </div>\r\n       <p v-if=\"gameStarted\">Score: {{ score }}</p>\r\n     </div>\r\n</template>\r\n   \r\n<script>\r\nexport default {\r\n  props: {\r\n    height: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      gameStarted: false,\r\n      score: 0,\r\n      objects: [],\r\n      canvas: null,\r\n      ctx: null,\r\n      width: 0,\r\n      height: 0,\r\n      basket: null,\r\n      keysPressed: {},\r\n    };\r\n  },\r\n  mounted() {\r\n    this.canvas = this.$refs.canvas;\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.width = this.canvas.width;\r\n    this.height = this.canvas.height;\r\n    this.basket = {\r\n      x: this.width / 2 - 25,\r\n      y: this.height - 50,\r\n      width: 50,\r\n      height: 50,\r\n    };\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n    window.addEventListener('keyup', this.handleKeyUp);\r\n  },\r\n  methods: {\r\n    startGame() {\r\n      this.gameStarted = true;\r\n      this.score = 0;\r\n      this.objects = [];\r\n      this.addObjects();\r\n      this.draw();\r\n      this.canvas.style.display = 'block';\r\n    },\r\n    addObjects() {\r\n      const numObjects = 1;\r\n      for (let i = 0; i < numObjects; i++) {\r\n        const object = {\r\n          x: Math.floor(Math.random() * this.width),\r\n          y: 0,\r\n          width: 50,\r\n          height: 50,\r\n          color: '#' + Math.floor(Math.random() * 16777215).toString(16),\r\n          speed: Math.random() * 3 + 1, // 랜덤한 속도 설정 (1에서 4 사이)\r\n          score: Math.floor(Math.random() * 10) - 5, // 랜덤한 점수 설정 (-5에서 4 사이)\r\n        };\r\n        this.objects.push(object);\r\n      }\r\n    },\r\n    draw() {\r\n      this.ctx.clearRect(0, 0, this.width, this.height);\r\n\r\n      // 바스켓 그리기\r\n      this.ctx.fillStyle = '#000';\r\n      this.ctx.fillRect(this.basket.x, this.basket.y, this.basket.width, this.basket.height);      \r\n\r\n      for (let i = 0; i < this.objects.length; i++) {\r\n        const object = this.objects[i];\r\n        this.ctx.fillStyle = object.color;\r\n        this.ctx.fillRect(object.x, object.y, object.width, object.height);\r\n        object.y += object.speed;\r\n        if (object.y + object.height > this.basket.y && object.x > this.basket.x && object.x < this.basket.x + this.basket.width) {\r\n          this.objects.splice(i, 1);\r\n          this.score += object.score;\r\n          this.addObjects();\r\n        } else if (object.y + object.height > this.height) {\r\n          this.objects.splice(i, 1);\r\n          this.addObjects();\r\n        }\r\n      }\r\n      this.moveBasket();\r\n      requestAnimationFrame(this.draw);\r\n    },\r\n    moveBasket() {\r\n      const speed = 10;\r\n      if (this.keysPressed.ArrowLeft && this.basket.x > 0) {\r\n        this.basket.x -= speed;\r\n      } else if (this.keysPressed.ArrowRight && this.basket.x + this.basket.width < this.width) {\r\n        this.basket.x += speed;\r\n      }\r\n    },\r\n    handleKeyDown(event) {\r\n      this.keysPressed[event.key] = true;\r\n    },\r\n    handleKeyUp(event) {\r\n      this.keysPressed[event.key] = false;\r\n    },\r\n  },\r\n  beforeUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n    window.removeEventListener('keyup', this.handleKeyUp);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.game {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.canvas-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 400px;\r\n  height: 400px;\r\n  border: 1px solid #000;\r\n}\r\n\r\ncanvas {\r\n  border: 1px solid #000;\r\n}\r\n</style>\r\n   "]},"metadata":{},"sourceType":"module"}